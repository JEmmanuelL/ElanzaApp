<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Elanza | Historial de Citas</title>

    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./styles/base.css?v=20260226202000">
    <link rel="stylesheet" href="./styles/layout.css?v=20260226202000">
    <link rel="stylesheet" href="./styles/components.css?v=20260226202000">
    <link rel="stylesheet" href="./styles/responsive.css?v=20260226202000">
    <link rel="stylesheet" href="./styles/dashboard.css?v=20260226202000">

    <link rel="stylesheet" href="./styles/historial.css?v=20260226202000">
    <!-- Iconos base -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#ffffff">
</head>

<body class="dashboard-body">

    <!-- Desktop Sidebar Navigation -->
    <aside class="desktop-sidebar">
        <div class="sidebar-top">
            <div class="menu-item-container" onclick="window.location.href='./servicios.html'">
                <img src="./assets/icons/IconApp/compras.svg" alt="Servicios" class="sidebar-icon">
                <span class="sidebar-text">Servicios</span>
            </div>
            <div class="menu-item-container" onclick="window.location.href='./perfil.html'">
                <img src="./assets/icons/IconApp/usuario.svg" alt="Mi Perfil" class="sidebar-icon">
                <span class="sidebar-text">Mi Perfil</span>
            </div>
            <div class="menu-item-container active" onclick="window.location.href='./historial-citas.html'">
                <img src="./assets/icons/IconApp/calendario.svg" alt="Historial" class="sidebar-icon">
                <span class="sidebar-text">Historial de Citas</span>
            </div>
            <div class="menu-item-container" id="menuLogoutBtnPC">
                <img src="./assets/icons/IconApp/flecha.svg" alt="Salir" class="sidebar-icon"
                    style="transform: rotate(180deg);">
                <span class="sidebar-text">Cerrar Sesión</span>
            </div>
        </div>
        <div class="sidebar-bottom">
            <div class="menu-item-container" onclick="window.location.href='./dashboard.html'">
                <img src="./assets/icons/iconMarca.svg" alt="Elanza Icon" class="sidebar-icon brand-icon">
            </div>
        </div>
    </aside>

    <main class="dashboard-mobile-container" style="padding-top: 40px;">
        <header class="historial-header">
            <h1 class="historial-title">Mi Historial Clínico</h1>
            <p class="historial-subtitle">Sigue de cerca tu avance sesión por sesión.</p>
        </header>

        <section class="historial-container" id="historialContainer">
            <div class="empty-history" id="loadingHistory">
                <p>Cargando información clínica...</p>
            </div>
        </section>
    </main>

    <!-- Bottom Navigation Bar (Mobile Only) -->
    <nav class="bottom-nav">
        <a href="./servicios.html" class="nav-item">
            <img src="./assets/icons/IconApp/compras.svg" alt="Servicios">
            <span
                style="font-size: 0.65rem; margin-top: 6px; font-weight: 600; font-family: var(--font-family); color: #888;">Servicios</span>
        </a>
        <a href="./perfil.html" class="nav-item">
            <img src="./assets/icons/IconApp/usuario.svg" alt="Perfil">
            <span
                style="font-size: 0.65rem; margin-top: 6px; font-weight: 600; font-family: var(--font-family); color: #888;">Mi
                Perfil</span>
        </a>
        <a href="./historial-citas.html" class="nav-item active">
            <img src="./assets/icons/IconApp/calendario.svg" alt="Historial">
            <span
                style="font-size: 0.65rem; margin-top: 6px; font-weight: 600; font-family: var(--font-family); color: #888;">Historial</span>
        </a>
        <a href="#" class="nav-item" id="menuLogoutBtnMobile">
            <img src="./assets/icons/IconApp/flecha.svg" alt="Salir" style="transform: rotate(180deg);">
            <span
                style="font-size: 0.65rem; margin-top: 6px; font-weight: 600; font-family: var(--font-family); color: #888;">Salir</span>
        </a>
    </nav>

    <script type="module" src="./src/main.js"></script>
    <script type="module" src="./src/modules/historial/index.js?v=20260226204500"></script>
    <script type="module">
        import { getAuth, signOut } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-auth.js";

        function handleLogout() {
            const auth = getAuth();
            signOut(auth).then(() => {
                window.location.href = './index.html';
            }).catch(err => console.error(err));
        }

        document.getElementById('menuLogoutBtnPC')?.addEventListener('click', handleLogout);
        document.getElementById('menuLogoutBtnMobile')?.addEventListener('click', (e) => {
            e.preventDefault();
            handleLogout();
        });
    </script>
</body>

</html>