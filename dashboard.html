<!DOCTYPE html>
<html lang="es">

<head>
    <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Elanza</title>
    <link rel="stylesheet" href="./styles/base.css?v=20260224183600">
    <link rel="stylesheet" href="./styles/layout.css?v=20260224183600">
    <link rel="stylesheet" href="./styles/components.css?v=20260224183600">
    <link rel="stylesheet" href="./styles/responsive.css?v=20260224183600">
    <link rel="stylesheet" href="./styles/dashboard.css?v=20260224183600">
    <link rel="manifest" href="./manifest.json?v=20260224183600">
    <meta name="theme-color" content="#ffffff">
</head>

<body class="dashboard-body">

    <!-- Desktop Sidebar Navigation -->
    <aside class="desktop-sidebar">
        <div class="sidebar-top">
            <div class="menu-item-container" onclick="window.location.href='./servicios.html'">
                <img src="./assets/icons/IconApp/compras.svg" alt="Servicios" class="sidebar-icon">
                <span class="sidebar-text">Servicios</span>
            </div>
            <div class="menu-item-container" onclick="window.location.href='./perfil.html'">
                <img src="./assets/icons/IconApp/usuario.svg" alt="Mi Perfil" class="sidebar-icon">
                <span class="sidebar-text">Mi Perfil</span>
            </div>
            <div class="menu-item-container" onclick="window.location.href='./historial-citas.html'">
                <img src="./assets/icons/IconApp/calendario.svg" alt="Historial" class="sidebar-icon">
                <span class="sidebar-text">Historial de Citas</span>
            </div>
            <div class="menu-item-container" id="menuLogoutBtnPC">
                <img src="./assets/icons/IconApp/flecha.svg" alt="Salir" class="sidebar-icon" style="transform: rotate(180deg);">
                <span class="sidebar-text">Cerrar Sesión</span>
            </div>
        </div>
        <div class="sidebar-bottom">
            <div class="menu-item-container" onclick="window.location.href='./dashboard.html'">
                <img src="./assets/icons/iconMarca.svg" alt="Elanza Icon" class="sidebar-icon brand-icon">
            </div>
        </div>
    </aside>

    <main class="dashboard-mobile-container">
        <!-- Header -->
        <header class="dash-header">
            <div class="dash-welcome">
                <div class="welcome-card">
                    <span class="welcome-text">¡Bienvenido!</span>
                    <h1 class="welcome-name">Emmanuel</h1>
                </div>
            </div>

            <div class="desktop-logo-mask"></div>
            <img src="./assets/icons/iconMarca.svg" alt="Elanza Icon" class="dash-logo mobile-logo">
        </header>

        <!-- Search and Filter -->
        <section class="dash-actions">
            <div class="search-bar">
                <img src="./assets/icons/IconApp/buscar.svg" alt="Buscar" class="search-icon">
                <input type="text" id="searchInput" placeholder="Buscar por correo...">
            </div>
            <div class="filter-wrapper" style="position: relative;">
                <button class="filter-btn" id="filterBtn">
                    <img src="./assets/icons/IconApp/filtro.svg" alt="Filtrar">
                </button>
                <div class="filter-dropdown" id="filterDropdown"
                    style="display: none; position: absolute; right: 0; top: 70px; background: white; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); padding: 12px; z-index: 100; min-width: 180px;">
                    <p style="margin: 0 0 8px 0; font-weight: bold; font-size: 0.9rem; color: #666;">Filtrar por Rol</p>
                    <select id="roleFilter" class="form-select"
                        style="width: 100%; padding: 8px; border-radius: 8px; border: 1px solid #ccc; font-family: var(--font-family);">
                        <option value="">Todos los roles</option>
                        <option value="Usuario Activo">Usuario Activo</option>
                        <option value="Usuario Inactivo">Usuario Inactivo</option>
                        <option value="Administrador">Administrador</option>
                        <option value="Super Administrador">Super Administrador</option>
                    </select>
                </div>
            </div>
        </section>

        <!-- Registros (User list) -->
        <section class="dash-records">
            <h2 class="records-title">Registros Recientes</h2>
            <div class="records-list">
                <!-- Dynamically populated by Javascript -->
            </div>

            <!-- Pagination Controls -->
            <div class="pagination-controls"
                style="display: flex; justify-content: space-between; align-items: center; margin-top: 24px;">
                <button id="prevPageBtn" class="btn"
                    style="background: white; border: 1px solid #ddd; border-radius: 8px; padding: 8px 16px; cursor: pointer; display: flex; align-items: center; gap: 8px;">
                    <img src="./assets/icons/IconApp/flecha.svg" style="transform: rotate(180deg); width: 14px;"
                        alt="Anterior"> Anterior
                </button>
                <span id="pageInfo" style="font-size: 0.9rem; color: var(--text-muted); font-weight: 500;">Página
                    1</span>
                <button id="nextPageBtn" class="btn"
                    style="background: white; border: 1px solid #ddd; border-radius: 8px; padding: 8px 16px; cursor: pointer; display: flex; align-items: center; gap: 8px;">
                    Siguiente <img src="./assets/icons/IconApp/flecha.svg" style="width: 14px;" alt="Siguiente">
                </button>
            </div>
        </section>
    </main>

    <!-- Bottom Navigation Bar (Mobile Only) -->
    <nav class="bottom-nav">
        <a href="./servicios.html" class="nav-item">
            <img src="./assets/icons/IconApp/compras.svg" alt="Servicios">
            <span style="font-size: 0.65rem; margin-top: 6px; font-weight: 600; font-family: var(--font-family); color: #888;">Servicios</span>
        </a>
        <a href="./perfil.html" class="nav-item">
            <img src="./assets/icons/IconApp/usuario.svg" alt="Perfil">
            <span style="font-size: 0.65rem; margin-top: 6px; font-weight: 600; font-family: var(--font-family); color: #888;">Mi Perfil</span>
        </a>
        <a href="./historial-citas.html" class="nav-item">
            <img src="./assets/icons/IconApp/calendario.svg" alt="Historial">
            <span style="font-size: 0.65rem; margin-top: 6px; font-weight: 600; font-family: var(--font-family); color: #888;">Historial</span>
        </a>
        <a href="#" class="nav-item" id="menuLogoutBtnMobile">
            <img src="./assets/icons/IconApp/flecha.svg" alt="Salir" style="transform: rotate(180deg);">
            <span style="font-size: 0.65rem; margin-top: 6px; font-weight: 600; font-family: var(--font-family); color: #888;">Salir</span>
        </a>
    </nav>

    <script type="module" src="./src/main.js?v=20260224191500"></script>
<script type="module">
        import { getAuth, signOut } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-auth.js";
        function handleLogout() {
            const auth = getAuth();
            signOut(auth).then(() => {
                window.location.href = './index.html';
            }).catch(err => console.error(err));
        }
        document.getElementById('menuLogoutBtnPC')?.addEventListener('click', handleLogout);
        document.getElementById('menuLogoutBtnMobile')?.addEventListener('click', (e) => {
            e.preventDefault();
            handleLogout();
        });
    </script>
</body>

</html>
